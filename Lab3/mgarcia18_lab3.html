<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- BootStrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/main.css">
    <title>Lab 1</title>
</head>
<body>
    <header>
        <h3 class="lead">ITMD-465 Lab 3 - Maria Garcia - mgarcia18@hawk.iit.edu</h3>
        <h1>Sales Tax Calculator</h1>
    </header>
    <section id="input-box">
        <p>Enter Subtotal and Tax Rate and click the Calculate button to show the sales tax amount and the total. Click the clear button to clear out all the form fields. Tax rate should be a percentage but do not ender a % sign in the tax rate box.</p>
        <div class="settings">
            <form action="/action_page.php">
                <label for="stotal">Subtotal:</label>
                <input type="number" id="stotal" name="stotal"><br><br>
                <label for="taxrate">Tax Rate:</label>
                <input type="number" id="taxrate" name="taxrate"><br><br>
                <label for="stax">Sales Tax:</label>
                <input type="text" id="stax" name="stax" disabled><br><br>
                <label for="total">Total:</label>
                <input type="text" id="total" name="total" disabled><br><br>
                <div id="btns">
                    <button id="submit" type="button" class="btn btn-primary">Submit</button>
                    <button id="clear" type="button" class="btn btn-light">Clear</button>
                </div>
            </form>
        </div>
    </section>

    <section id="img-box">
        <img src="img/main-img.jpg" alt="picture of calculator and pen">
    </section>

    <footer>
        <p>&copy; 2021 Maria Garcia | mgarcia18@hawk.iit.edu</p>
    </footer>
    
</body>

<script>
    window.addEventListener('DOMContentLoaded', function(evt){
        console.log('DOM fully loaded and parsed');

        document.getElementById("submit").addEventListener("click", function() {
            console.log('Submit btn clicked');
            let input_stotal = document.getElementById('stotal').value;
            let input_tax = document.getElementById('taxrate').value;

            if(input_tax <= 0 || input_tax > 20){
                alert("Tax rate must be greater than 0 and less than or equal to 20.")
            }else{
                let tax = input_tax / 100;
                let sales_tax = tax * input_stotal;
                let total = +input_stotal + +sales_tax;

                document.getElementById("stax").value = sales_tax;
                document.getElementById("total").value = total;
            }
        });

        document.getElementById("clear").addEventListener("click", function() {
            console.log('Clear btn clicked');
            document.getElementById("stotal").value = '';
            document.getElementById("taxrate").value = '';
            document.getElementById("stax").value = '';
            document.getElementById("total").value = '';
        });
    });
</script>
</html>